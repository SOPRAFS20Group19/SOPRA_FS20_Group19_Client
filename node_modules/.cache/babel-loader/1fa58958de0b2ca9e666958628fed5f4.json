{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\lulo1\\\\Desktop\\\\Studium\\\\20 FS\\\\SOPRA\\\\KnowYourCity\\\\Github\\\\SOPRA_FS20_Group19_Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\lulo1\\\\Desktop\\\\Studium\\\\20 FS\\\\SOPRA\\\\KnowYourCity\\\\Github\\\\SOPRA_FS20_Group19_Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\lulo1\\\\Desktop\\\\Studium\\\\20 FS\\\\SOPRA\\\\KnowYourCity\\\\Github\\\\SOPRA_FS20_Group19_Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\lulo1\\\\Desktop\\\\Studium\\\\20 FS\\\\SOPRA\\\\KnowYourCity\\\\Github\\\\SOPRA_FS20_Group19_Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\lulo1\\\\Desktop\\\\Studium\\\\20 FS\\\\SOPRA\\\\KnowYourCity\\\\Github\\\\SOPRA_FS20_Group19_Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\lulo1\\\\Desktop\\\\Studium\\\\20 FS\\\\SOPRA\\\\KnowYourCity\\\\Github\\\\SOPRA_FS20_Group19_Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\lulo1\\\\Desktop\\\\Studium\\\\20 FS\\\\SOPRA\\\\KnowYourCity\\\\Github\\\\SOPRA_FS20_Group19_Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\lulo1\\\\Desktop\\\\Studium\\\\20 FS\\\\SOPRA\\\\KnowYourCity\\\\Github\\\\SOPRA_FS20_Group19_Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\lulo1\\\\Desktop\\\\Studium\\\\20 FS\\\\SOPRA\\\\KnowYourCity\\\\Github\\\\SOPRA_FS20_Group19_Client\\\\src\\\\components\\\\game\\\\Game.js\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  list-style: none;\\n  padding-left: 0;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  color: white;\\n  text-align: center;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport { BaseContainer } from '../../helpers/layout';\nimport { api, handleError } from '../../helpers/api';\nimport Player from '../../views/Player';\nimport { Spinner } from '../../views/design/Spinner';\nimport { Button } from '../../views/design/Button';\nimport { withRouter } from 'react-router-dom';\nvar Container = styled(BaseContainer)(_templateObject());\nvar Users = styled.ul(_templateObject2());\nvar PlayerContainer = styled.li(_templateObject3());\nexport var Game =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Game, _React$Component);\n\n  function Game() {\n    var _this;\n\n    _classCallCheck(this, Game);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Game).call(this));\n    _this.state = {\n      users: null,\n      loggedInUserToken: localStorage.getItem(\"token\"),\n      loggedInUserId: localStorage.getItem(\"userId\")\n    };\n    return _this;\n  } // this method logs the user out by removing the token and his ID from the localStorage\n\n\n  _createClass(Game, [{\n    key: \"logout\",\n    value: function logout() {\n      localStorage.removeItem('token');\n      localStorage.removeItem('userId');\n      this.setState({\n        loggedInUserToken: null\n      });\n      this.setState({\n        loggedInUserId: null\n      });\n      this.props.history.push('/login');\n    } // this method is called when clicking on the show profile page\n\n  }, {\n    key: \"showProfile\",\n    value: function showProfile(id) {\n      // the ID of the user that should be shown is stored in the localStorage and the user is redirected to the user profile\n      localStorage.setItem('showUserId', id);\n      this.props.history.push({\n        pathname: '/game/dashboard/user',\n        userId: id\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return api.get('/users');\n\n              case 3:\n                response = _context.sent;\n                // delays continuous execution of an async operation for 1 second.\n                // This is just a fake async call, so that the spinner can be displayed\n                // feel free to remove it :)\n                // await new Promise(resolve => setTimeout(resolve, 1000));\n                // Get the returned users and update the state.\n                this.setState({\n                  users: response.data\n                }); // This is just some data for you to see what is available.\n                // Feel free to remove it.\n\n                console.log('request to:', response.request.responseURL);\n                console.log('status code:', response.status);\n                console.log('status text:', response.statusText);\n                console.log('requested data:', response.data); // See here to get more data.\n\n                console.log(response);\n                _context.next = 15;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](0);\n                alert(\"Something went wrong while fetching the users: \\n\".concat(handleError(_context.t0)));\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 12]]);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Happy Coding! \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Get all users from secure end point:\"), !this.state.users ? React.createElement(Spinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Users, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, this.state.users.map(function (user) {\n        return React.createElement(PlayerContainer, {\n          key: user.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(Player, {\n          user: user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }), React.createElement(Button, {\n          onClick: function onClick() {\n            _this2.showProfile(user.id);\n          },\n          style: {\n            width: 300\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, \"Show Profile of \", user.username));\n      })), React.createElement(Button, {\n        width: \"100%\",\n        onClick: function onClick() {\n          _this2.logout();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Logout\"), React.createElement(Button, {\n        width: \"100%\",\n        onClick: function onClick() {\n          _this2.props.history.push('/map');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Show map\")));\n    }\n  }]);\n\n  return Game;\n}(React.Component);\nexport default withRouter(Game);","map":{"version":3,"sources":["C:/Users/lulo1/Desktop/Studium/20 FS/SOPRA/KnowYourCity/Github/SOPRA_FS20_Group19_Client/src/components/game/Game.js"],"names":["React","styled","BaseContainer","api","handleError","Player","Spinner","Button","withRouter","Container","Users","ul","PlayerContainer","li","Game","state","users","loggedInUserToken","localStorage","getItem","loggedInUserId","removeItem","setState","props","history","push","id","setItem","pathname","userId","get","response","data","console","log","request","responseURL","status","statusText","alert","map","user","showProfile","width","username","logout","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { BaseContainer } from '../../helpers/layout';\r\nimport { api, handleError } from '../../helpers/api';\r\nimport Player from '../../views/Player';\r\nimport { Spinner } from '../../views/design/Spinner';\r\nimport { Button } from '../../views/design/Button';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst Container = styled(BaseContainer)`\r\n  color: white;\r\n  text-align: center;\r\n`;\r\n\r\nconst Users = styled.ul`\r\n  list-style: none;\r\n  padding-left: 0;\r\n`;\r\n\r\nconst PlayerContainer = styled.li`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport class Game extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      users: null,\r\n      loggedInUserToken: localStorage.getItem(\"token\"),\r\n      loggedInUserId: localStorage.getItem(\"userId\")\r\n    };\r\n  }\r\n\r\n  // this method logs the user out by removing the token and his ID from the localStorage\r\n  logout() {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('userId');\r\n    this.setState({ loggedInUserToken: null });\r\n    this.setState({ loggedInUserId: null });\r\n    this.props.history.push('/login');\r\n  }\r\n\r\n  // this method is called when clicking on the show profile page\r\n  showProfile(id) {\r\n    // the ID of the user that should be shown is stored in the localStorage and the user is redirected to the user profile\r\n    localStorage.setItem('showUserId', id);\r\n    this.props.history.push({pathname: '/game/dashboard/user', userId: id});\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const response = await api.get('/users');\r\n      // delays continuous execution of an async operation for 1 second.\r\n      // This is just a fake async call, so that the spinner can be displayed\r\n      // feel free to remove it :)\r\n      // await new Promise(resolve => setTimeout(resolve, 1000));\r\n\r\n      // Get the returned users and update the state.\r\n      this.setState({ users: response.data });\r\n\r\n      // This is just some data for you to see what is available.\r\n      // Feel free to remove it.\r\n      console.log('request to:', response.request.responseURL);\r\n      console.log('status code:', response.status);\r\n      console.log('status text:', response.statusText);\r\n      console.log('requested data:', response.data);\r\n\r\n      // See here to get more data.\r\n      console.log(response);\r\n    } catch (error) {\r\n      alert(`Something went wrong while fetching the users: \\n${handleError(error)}`);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <h2>Happy Coding! </h2>\r\n        <p>Get all users from secure end point:</p>\r\n        {!this.state.users ? (\r\n          <Spinner />\r\n        ) : (\r\n          <div>\r\n            <Users>\r\n              {this.state.users.map(user => {\r\n                return (\r\n                  <PlayerContainer key={user.id}>\r\n                    <Player user={user}/>\r\n                    <Button\r\n                        onClick={() => {this.showProfile(user.id)}}\r\n                        style={{width: 300}}\r\n                    >\r\n                      Show Profile of {user.username}\r\n                    </Button>\r\n                  </PlayerContainer>\r\n                );\r\n              })}\r\n            </Users>\r\n            <Button\r\n              width=\"100%\"\r\n              onClick={() => {\r\n                this.logout();\r\n              }}\r\n            >\r\n              Logout\r\n            </Button>\r\n            <Button\r\n                width=\"100%\"\r\n                onClick={() => {\r\n                  this.props.history.push('/map');\r\n                }}\r\n            >\r\n              Show map\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Game);"]},"metadata":{},"sourceType":"module"}