{"ast":null,"code":"import _regeneratorRuntime from\"/Users/luisknufinke/Documents/UZH/04 - FS20/Softwarepraktikum/Milestone 1 Individual/sopra-fs20-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/luisknufinke/Documents/UZH/04 - FS20/Softwarepraktikum/Milestone 1 Individual/sopra-fs20-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/luisknufinke/Documents/UZH/04 - FS20/Softwarepraktikum/Milestone 1 Individual/sopra-fs20-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/luisknufinke/Documents/UZH/04 - FS20/Softwarepraktikum/Milestone 1 Individual/sopra-fs20-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/luisknufinke/Documents/UZH/04 - FS20/Softwarepraktikum/Milestone 1 Individual/sopra-fs20-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/luisknufinke/Documents/UZH/04 - FS20/Softwarepraktikum/Milestone 1 Individual/sopra-fs20-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/luisknufinke/Documents/UZH/04 - FS20/Softwarepraktikum/Milestone 1 Individual/sopra-fs20-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/luisknufinke/Documents/UZH/04 - FS20/Softwarepraktikum/Milestone 1 Individual/sopra-fs20-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _taggedTemplateLiteral from\"/Users/luisknufinke/Documents/UZH/04 - FS20/Softwarepraktikum/Milestone 1 Individual/sopra-fs20-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  margin-top: 20px;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  &::placeholder {\\n    color: rgba(255, 255, 255, 1.0);\\n  }\\n  height: 35px;\\n  width: 300px;\\n  padding-left: 15px;\\n  margin-left: 15px;\\n  border: none;\\n  border-radius: 20px;\\n  margin-bottom: 20px;\\n  background: rgba(255, 255, 255, 0.2);\\n  color: white;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  color: white;\\n  margin-bottom: 10px;\\n  text-transform: uppercase;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  color: white;\\n  text-align: center;\\n  flex-direction: column;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from'react';import styled from'styled-components';import{BaseContainer}from'../../helpers/layout';import{api,handleError}from'../../helpers/api';//import Player from '../../views/Player';\n//import { Spinner } from '../../views/design/Spinner';\nimport{Button}from'../../views/design/Button';import{withRouter}from'react-router-dom';//import Profile from \"../../views/Profile\";\n//import Profile from \"../../views/Profile\";\nvar Container=styled(BaseContainer)(_templateObject());var Label=styled.label(_templateObject2());var InputField=styled.input(_templateObject3());var ButtonContainer=styled.div(_templateObject4());var EditProfile=/*#__PURE__*/function(_React$Component){_inherits(EditProfile,_React$Component);function EditProfile(){var _this;_classCallCheck(this,EditProfile);_this=_possibleConstructorReturn(this,_getPrototypeOf(EditProfile).call(this));_this.state={loggedInUserId:localStorage.getItem(\"userId\"),username:null,birthDate:null,changesSaved:false,testThing:false};return _this;}_createClass(EditProfile,[{key:\"saveChanges\",value:function saveChanges(){try{var requestBody=JSON.stringify({username:this.state.username,birthDate:this.state.birthDate});var url='/users/'+this.state.loggedInUserId;api.put(url,requestBody);this.props.history.push('/game/dashboard/user');}catch(e){alert(\"Something went wrong while editing the profile: \\n\".concat(handleError(e)));}}},{key:\"handleInputChange\",value:function handleInputChange(key,value){// Example: if the key is username, this statement is the equivalent to the following one:\n// this.setState({'username': value});\nthis.setState(_defineProperty({},key,value));}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:case\"end\":return _context.stop();}}},_callee);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;return React.createElement(BaseContainer,null,React.createElement(Container,null,React.createElement(\"div\",null,React.createElement(Label,null,\"Username\"),React.createElement(InputField,{placeholder:\"Enter your new username here\",onChange:function onChange(e){_this2.handleInputChange('username',e.target.value);}})),React.createElement(\"div\",null,React.createElement(Label,null,\"Birth Date\"),React.createElement(InputField,{placeholder:\"Enter your birth date here\",onChange:function onChange(e){_this2.handleInputChange('birthDate',e.target.value);}})),React.createElement(\"div\",null,React.createElement(ButtonContainer,null,React.createElement(Button,{width:\"100%\",onClick:function onClick(){_this2.saveChanges();}},\"Save Changes\"))),React.createElement(\"div\",null,React.createElement(ButtonContainer,null,React.createElement(Button,{width:\"100%\",onClick:function onClick(){_this2.props.history.push('/game/dashboard/user');}},\"Cancel\")))));}}]);return EditProfile;}(React.Component);export default withRouter(EditProfile);","map":{"version":3,"sources":["/Users/luisknufinke/Documents/UZH/04 - FS20/Softwarepraktikum/Milestone 1 Individual/sopra-fs20-client/src/components/editprofile/EditProfile.js"],"names":["React","styled","BaseContainer","api","handleError","Button","withRouter","Container","Label","label","InputField","input","ButtonContainer","div","EditProfile","state","loggedInUserId","localStorage","getItem","username","birthDate","changesSaved","testThing","requestBody","JSON","stringify","url","put","props","history","push","e","alert","key","value","setState","handleInputChange","target","saveChanges","Component"],"mappings":"q+FAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,aAAT,KAA8B,sBAA9B,CACA,OAASC,GAAT,CAAcC,WAAd,KAAiC,mBAAjC,CACA;AACA;AACA,OAASC,MAAT,KAAuB,2BAAvB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA;AACA;AAEA,GAAMC,CAAAA,SAAS,CAAGN,MAAM,CAACC,aAAD,CAAT,mBAAf,CAMA,GAAMM,CAAAA,KAAK,CAAGP,MAAM,CAACQ,KAAV,oBAAX,CAMA,GAAMC,CAAAA,UAAU,CAAGT,MAAM,CAACU,KAAV,oBAAhB,CAeA,GAAMC,CAAAA,eAAe,CAAGX,MAAM,CAACY,GAAV,oBAArB,C,GAMMC,CAAAA,W,iFACF,sBAAc,6CACV,+EACA,MAAKC,KAAL,CAAa,CACTC,cAAc,CAAEC,YAAY,CAACC,OAAb,CAAqB,QAArB,CADP,CAETC,QAAQ,CAAE,IAFD,CAGTC,SAAS,CAAE,IAHF,CAITC,YAAY,CAAE,KAJL,CAKTC,SAAS,CAAE,KALF,CAAb,CAFU,aASb,C,yEAEa,CACV,GAAI,CACA,GAAMC,CAAAA,WAAW,CAAGC,IAAI,CAACC,SAAL,CAAe,CAC/BN,QAAQ,CAAE,KAAKJ,KAAL,CAAWI,QADU,CAE/BC,SAAS,CAAE,KAAKL,KAAL,CAAWK,SAFS,CAAf,CAApB,CAIA,GAAMM,CAAAA,GAAG,CAAG,UAAY,KAAKX,KAAL,CAAWC,cAAnC,CACAb,GAAG,CAACwB,GAAJ,CAAQD,GAAR,CAAaH,WAAb,EACA,KAAKK,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,sBAAxB,EACH,CAAC,MAAOC,CAAP,CAAU,CACRC,KAAK,6DAAsD5B,WAAW,CAAC2B,CAAD,CAAjE,EAAL,CACH,CACJ,C,4DAEiBE,G,CAAKC,K,CAAO,CAC1B;AACA;AACA,KAAKC,QAAL,oBAAgBF,GAAhB,CAAsBC,KAAtB,GACH,C,icAIQ,iBACL,MACI,qBAAC,aAAD,MACI,oBAAC,SAAD,MACI,+BACA,oBAAC,KAAD,iBADA,CAEA,oBAAC,UAAD,EACI,WAAW,CAAC,8BADhB,CAEI,QAAQ,CAAE,kBAAAH,CAAC,CAAI,CACX,MAAI,CAACK,iBAAL,CAAuB,UAAvB,CAAmCL,CAAC,CAACM,MAAF,CAASH,KAA5C,EACH,CAJL,EAFA,CADJ,CAUI,+BACA,oBAAC,KAAD,mBADA,CAEA,oBAAC,UAAD,EACI,WAAW,CAAC,4BADhB,CAEI,QAAQ,CAAE,kBAAAH,CAAC,CAAI,CACX,MAAI,CAACK,iBAAL,CAAuB,WAAvB,CAAoCL,CAAC,CAACM,MAAF,CAASH,KAA7C,EACH,CAJL,EAFA,CAVJ,CAmBI,+BACI,oBAAC,eAAD,MACI,oBAAC,MAAD,EACI,KAAK,CAAC,MADV,CAEI,OAAO,CAAE,kBAAM,CACX,MAAI,CAACI,WAAL,GACH,CAJL,iBADJ,CADJ,CAnBJ,CA+BI,+BACI,oBAAC,eAAD,MACI,oBAAC,MAAD,EACI,KAAK,CAAC,MADV,CAEI,OAAO,CAAE,kBAAM,CACX,MAAI,CAACV,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,sBAAxB,EACH,CAJL,WADJ,CADJ,CA/BJ,CADJ,CADJ,CAgDH,C,yBAnFqB9B,KAAK,CAACuC,S,EAsFhC,cAAejC,CAAAA,UAAU,CAACQ,WAAD,CAAzB","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { BaseContainer } from '../../helpers/layout';\nimport { api, handleError } from '../../helpers/api';\n//import Player from '../../views/Player';\n//import { Spinner } from '../../views/design/Spinner';\nimport { Button } from '../../views/design/Button';\nimport { withRouter } from 'react-router-dom';\n//import Profile from \"../../views/Profile\";\n//import Profile from \"../../views/Profile\";\n\nconst Container = styled(BaseContainer)`\n  color: white;\n  text-align: center;\n  flex-direction: column;\n`;\n\nconst Label = styled.label`\n  color: white;\n  margin-bottom: 10px;\n  text-transform: uppercase;\n`;\n\nconst InputField = styled.input`\n  &::placeholder {\n    color: rgba(255, 255, 255, 1.0);\n  }\n  height: 35px;\n  width: 300px;\n  padding-left: 15px;\n  margin-left: 15px;\n  border: none;\n  border-radius: 20px;\n  margin-bottom: 20px;\n  background: rgba(255, 255, 255, 0.2);\n  color: white;\n`;\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n`;\n\nclass EditProfile extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            loggedInUserId: localStorage.getItem(\"userId\"),\n            username: null,\n            birthDate: null,\n            changesSaved: false,\n            testThing: false\n        };\n    }\n\n    saveChanges() {\n        try {\n            const requestBody = JSON.stringify({\n                username: this.state.username,\n                birthDate: this.state.birthDate\n            });\n            const url = '/users/' + this.state.loggedInUserId;\n            api.put(url, requestBody);\n            this.props.history.push('/game/dashboard/user');\n        } catch (e) {\n            alert(`Something went wrong while editing the profile: \\n${handleError(e)}`);\n        }\n    }\n\n    handleInputChange(key, value) {\n        // Example: if the key is username, this statement is the equivalent to the following one:\n        // this.setState({'username': value});\n        this.setState({[key]: value});\n    }\n\n    async componentDidMount() {}\n\n    render() {\n        return (\n            <BaseContainer>\n                <Container>\n                    <div>\n                    <Label>Username</Label>\n                    <InputField\n                        placeholder=\"Enter your new username here\"\n                        onChange={e => {\n                            this.handleInputChange('username', e.target.value);\n                        }}\n                    />\n                    </div>\n                    <div>\n                    <Label>Birth Date</Label>\n                    <InputField\n                        placeholder=\"Enter your birth date here\"\n                        onChange={e => {\n                            this.handleInputChange('birthDate', e.target.value);\n                        }}\n                    />\n                    </div>\n                    <div>\n                        <ButtonContainer>\n                            <Button\n                                width=\"100%\"\n                                onClick={() => {\n                                    this.saveChanges();\n                                }}\n                            >\n                                Save Changes\n                            </Button>\n                        </ButtonContainer>\n                    </div>\n                    <div>\n                        <ButtonContainer>\n                            <Button\n                                width=\"100%\"\n                                onClick={() => {\n                                    this.props.history.push('/game/dashboard/user');\n                                }}\n                            >\n                                Cancel\n                            </Button>\n                        </ButtonContainer>\n                    </div>\n                </Container>\n            </BaseContainer>\n        );\n    }\n}\n\nexport default withRouter(EditProfile);\n"]},"metadata":{},"sourceType":"module"}